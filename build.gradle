subprojects {
	repositories {
        mavenCentral()
        jcenter()
        maven {
            name = "forge"
            url = "http://files.minecraftforge.net/maven"
        }
        maven {
            name = "sonatype"
            url = "https://oss.sonatype.org/content/repositories/snapshots/"
        }
    }
    
	apply plugin: 'java'
	
	configurations {
		shade
		compile.extendsFrom shade
	}
	
	dependencies {
	    shade 'com.google.code.gson:gson:2.6.2'
	}
	
	jar {
		destinationDir = file("$rootDir/publish")
		manifest {
			attributes 'Main-Class': 'runme.Main'
		}
		
		configurations.shade.each { dep ->
	        from(project.zipTree(dep)){
	            exclude 'META-INF', 'META-INF/**'
	            // you may exclude other things here if you want, or maybe copy the META-INF
	        }
	    }
	}
}